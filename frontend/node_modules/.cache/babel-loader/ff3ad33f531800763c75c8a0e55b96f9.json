{"ast":null,"code":"import e, { createContext as t, useContext as r, useEffect as n, useState as i } from \"react\";\n\nfunction o(e, t) {\n  var r, n;\n  if (\"function\" == typeof t) void 0 !== (n = t(e)) && (e = n);else if (Array.isArray(t)) for (r = 0; r < t.length; r++) void 0 !== (n = t[r](e)) && (e = n);\n  return e;\n}\n\nfunction a(e, t) {\n  return \"-\" === e[0] && Array.isArray(t) && /^-\\d+$/.test(e) ? t.length + parseInt(e, 10) : e;\n}\n\nfunction l(e) {\n  return \"[object Object]\" === Object.prototype.toString.call(e);\n}\n\nfunction u(e) {\n  return Object(e) === e;\n}\n\nfunction c(e) {\n  return 0 === Object.keys(e).length;\n}\n\nfunction s(e, t) {\n  return e.indexOf(\"[\") >= 0 && (e = e.replace(/\\[/g, \".\").replace(/]/g, \"\")), e.split(t);\n}\n\nfunction f(e, t, r) {\n  if (!(this instanceof f)) return new f(e, t, r);\n  void 0 === t && (t = !1), void 0 === r && (r = !0), this.separator = e || \".\", this.override = t, this.useArray = r, this.keepArray = !1, this.cleanup = [];\n}\n\nvar p = new f(\".\", !1, !0);\n\nfunction h(e) {\n  return function () {\n    return p[e].apply(p, arguments);\n  };\n}\n\nf.prototype._fill = function (e, t, r, n) {\n  var i = e.shift();\n\n  if (e.length > 0) {\n    if (t[i] = t[i] || (this.useArray && function (e) {\n      return /^\\d+$/.test(e);\n    }(e[0]) ? [] : {}), !u(t[i])) {\n      if (!this.override) {\n        if (!u(r) || !c(r)) throw new Error(\"Trying to redefine `\" + i + \"` which is a \" + typeof t[i]);\n        return;\n      }\n\n      t[i] = {};\n    }\n\n    this._fill(e, t[i], r, n);\n  } else {\n    if (!this.override && u(t[i]) && !c(t[i])) {\n      if (!u(r) || !c(r)) throw new Error(\"Trying to redefine non-empty obj['\" + i + \"']\");\n      return;\n    }\n\n    t[i] = o(r, n);\n  }\n}, f.prototype.object = function (e, t) {\n  var r = this;\n  return Object.keys(e).forEach(function (n) {\n    var i = void 0 === t ? null : t[n],\n        a = s(n, r.separator).join(r.separator);\n    -1 !== a.indexOf(r.separator) ? (r._fill(a.split(r.separator), e, e[n], i), delete e[n]) : r.override && (e[n] = o(e[n], i));\n  }), e;\n}, f.prototype.str = function (e, t, r, n) {\n  return -1 !== e.indexOf(this.separator) ? this._fill(e.split(this.separator), r, t, n) : r.hasOwnProperty(e) && !this.override || (r[e] = o(t, n)), r;\n}, f.prototype.pick = function (e, t, r) {\n  var n, i, o, l, u;\n\n  for (i = s(e, this.separator), n = 0; n < i.length; n++) {\n    if (l = a(i[n], t), !(t && \"object\" == typeof t && l in t)) return;\n    if (n === i.length - 1) return r ? (o = t[l], delete t[l], Array.isArray(t) && (u = i.slice(0, -1).join(\".\"), -1 === this.cleanup.indexOf(u) && this.cleanup.push(u)), o) : t[l];\n    t = t[l];\n  }\n\n  return r && Array.isArray(t) && (t = t.filter(function (e) {\n    return void 0 !== e;\n  })), t;\n}, f.prototype.remove = function (e, t) {\n  var r;\n\n  if (this.cleanup = [], Array.isArray(e)) {\n    for (r = 0; r < e.length; r++) this.pick(e[r], t, !0);\n\n    return this._cleanup(t), t;\n  }\n\n  return this.pick(e, t, !0);\n}, f.prototype._cleanup = function (e) {\n  var t, r, n, i;\n\n  if (this.cleanup.length) {\n    for (r = 0; r < this.cleanup.length; r++) t = (t = (i = (n = this.cleanup[r].split(\".\")).splice(0, -1).join(\".\")) ? this.pick(i, e) : e)[n[0]].filter(function (e) {\n      return void 0 !== e;\n    }), this.set(this.cleanup[r], t, e);\n\n    this.cleanup = [];\n  }\n}, f.prototype.del = f.prototype.remove, f.prototype.move = function (e, t, r, n, i) {\n  return \"function\" == typeof n || Array.isArray(n) ? this.set(t, o(this.pick(e, r, !0), n), r, i) : (i = n, this.set(t, this.pick(e, r, !0), r, i)), r;\n}, f.prototype.transfer = function (e, t, r, n, i, a) {\n  return \"function\" == typeof i || Array.isArray(i) ? this.set(t, o(this.pick(e, r, !0), i), n, a) : (a = i, this.set(t, this.pick(e, r, !0), n, a)), n;\n}, f.prototype.copy = function (e, t, r, n, i, a) {\n  return \"function\" == typeof i || Array.isArray(i) ? this.set(t, o(JSON.parse(JSON.stringify(this.pick(e, r, !1))), i), n, a) : (a = i, this.set(t, this.pick(e, r, !1), n, a)), n;\n}, f.prototype.set = function (e, t, r, n) {\n  var i, o, a, u;\n  if (void 0 === t) return r;\n\n  for (a = s(e, this.separator), i = 0; i < a.length; i++) {\n    if (u = a[i], i === a.length - 1) {\n      if (n && l(t) && l(r[u])) for (o in t) t.hasOwnProperty(o) && (r[u][o] = t[o]);else if (n && Array.isArray(r[u]) && Array.isArray(t)) for (var c = 0; c < t.length; c++) r[a[i]].push(t[c]);else r[u] = t;\n    } else r.hasOwnProperty(u) && (l(r[u]) || Array.isArray(r[u])) || (/^\\d+$/.test(a[i + 1]) ? r[u] = [] : r[u] = {});\n    r = r[u];\n  }\n\n  return r;\n}, f.prototype.transform = function (e, t, r) {\n  return t = t || {}, r = r || {}, Object.keys(e).forEach(function (n) {\n    this.set(e[n], this.pick(n, t), r);\n  }.bind(this)), r;\n}, f.prototype.dot = function (e, t, r) {\n  return t = t || {}, r = r || [], Object.keys(e).forEach(function (n) {\n    if (u(e[n]) && (l(e[n]) && !c(e[n]) || Array.isArray(e[n]) && !this.keepArray && 0 !== e[n].length)) return this.dot(e[n], t, r.concat(n));\n    t[r.concat(n).join(this.separator)] = e[n];\n  }.bind(this)), t;\n}, f.pick = h(\"pick\"), f.move = h(\"move\"), f.transfer = h(\"transfer\"), f.transform = h(\"transform\"), f.copy = h(\"copy\"), f.object = h(\"object\"), f.str = h(\"str\"), f.set = h(\"set\"), f.del = f.remove = h(\"remove\"), f.dot = h(\"dot\"), [\"override\", \"overwrite\"].forEach(function (e) {\n  Object.defineProperty(f, e, {\n    get: function () {\n      return p.override;\n    },\n    set: function (e) {\n      p.override = !!e;\n    }\n  });\n}), [\"useArray\", \"keepArray\"].forEach(function (e) {\n  Object.defineProperty(f, e, {\n    get: function () {\n      return p[e];\n    },\n    set: function (t) {\n      p[e] = t;\n    }\n  });\n}), f._process = o;\nvar y = f,\n    d = t({\n  initialData: {},\n  errors: {},\n  scopePath: \"\",\n  registerField: function () {},\n  unregisterField: function () {}\n});\n\nfunction v(e) {\n  var t = r(d),\n      i = t.initialData,\n      o = t.errors,\n      a = t.scopePath,\n      l = t.unregisterField,\n      u = t.registerField,\n      c = a ? a + \".\" + e : e;\n  n(function () {\n    return function () {\n      return l(c);\n    };\n  }, []);\n  var s = y.pick(c, i),\n      f = o[c];\n  return {\n    fieldName: c,\n    registerField: u,\n    defaultValue: s,\n    error: f\n  };\n}\n\nvar m = function () {\n  return (m = Object.assign || function (e) {\n    for (var t, r = 1, n = arguments.length; r < n; r++) for (var i in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n\n    return e;\n  }).apply(this, arguments);\n};\n\nfunction b(e, t) {\n  var r = {};\n\n  for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);\n\n  if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n    var i = 0;\n\n    for (n = Object.getOwnPropertySymbols(e); i < n.length; i++) t.indexOf(n[i]) < 0 && (r[n[i]] = e[n[i]]);\n  }\n\n  return r;\n}\n\nfunction g(e, t) {\n  var r,\n      n,\n      i,\n      o,\n      a = {\n    label: 0,\n    sent: function () {\n      if (1 & i[0]) throw i[1];\n      return i[1];\n    },\n    trys: [],\n    ops: []\n  };\n  return o = {\n    next: l(0),\n    throw: l(1),\n    return: l(2)\n  }, \"function\" == typeof Symbol && (o[Symbol.iterator] = function () {\n    return this;\n  }), o;\n\n  function l(o) {\n    return function (l) {\n      return function (o) {\n        if (r) throw new TypeError(\"Generator is already executing.\");\n\n        for (; a;) try {\n          if (r = 1, n && (i = 2 & o[0] ? n.return : o[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, o[1])).done) return i;\n\n          switch (n = 0, i && (o = [2 & o[0], i.value]), o[0]) {\n            case 0:\n            case 1:\n              i = o;\n              break;\n\n            case 4:\n              return a.label++, {\n                value: o[1],\n                done: !1\n              };\n\n            case 5:\n              a.label++, n = o[1], o = [0];\n              continue;\n\n            case 7:\n              o = a.ops.pop(), a.trys.pop();\n              continue;\n\n            default:\n              if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === o[0] || 2 === o[0])) {\n                a = 0;\n                continue;\n              }\n\n              if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {\n                a.label = o[1];\n                break;\n              }\n\n              if (6 === o[0] && a.label < i[1]) {\n                a.label = i[1], i = o;\n                break;\n              }\n\n              if (i && a.label < i[2]) {\n                a.label = i[2], a.ops.push(o);\n                break;\n              }\n\n              i[2] && a.ops.pop(), a.trys.pop();\n              continue;\n          }\n\n          o = t.call(e, a);\n        } catch (e) {\n          o = [6, e], n = 0;\n        } finally {\n          r = i = 0;\n        }\n\n        if (5 & o[0]) throw o[1];\n        return {\n          value: o[0] ? o[1] : void 0,\n          done: !0\n        };\n      }([o, l]);\n    };\n  }\n}\n\nfunction A(t) {\n  var r = t.initialData,\n      n = void 0 === r ? {} : r,\n      o = t.children,\n      a = void 0 === o ? null : o,\n      l = t.schema,\n      u = t.context,\n      c = void 0 === u ? {} : u,\n      s = t.onSubmit,\n      f = void 0 === s ? function () {} : s,\n      p = b(t, [\"initialData\", \"children\", \"schema\", \"context\", \"onSubmit\"]),\n      h = i({}),\n      v = h[0],\n      A = h[1],\n      k = [];\n  return e.createElement(d.Provider, {\n    value: {\n      initialData: n,\n      errors: v,\n      scopePath: \"\",\n      registerField: function (e) {\n        k.push(e);\n      },\n      unregisterField: function (e) {\n        k = k.filter(function (t) {\n          return t.name !== e;\n        });\n      }\n    }\n  }, e.createElement(\"form\", m({}, p, {\n    onSubmit: function (e) {\n      return t = this, r = void 0, i = function () {\n        var t, r, n;\n        return g(this, function (i) {\n          switch (i.label) {\n            case 0:\n              e.preventDefault(), t = function () {\n                var e = {};\n                return k.forEach(function (t) {\n                  var r = t.name,\n                      n = t.ref,\n                      i = t.path,\n                      o = \"function\" == typeof n ? n() : n;\n                  e[r] = i ? y.pick(i, o) : o;\n                }), y.object(e), e;\n              }(), i.label = 1;\n\n            case 1:\n              return i.trys.push([1, 4,, 5]), l ? [4, l.validate(t, {\n                abortEarly: !1,\n                stripUnknown: !0,\n                context: c\n              })] : [3, 3];\n\n            case 2:\n              i.sent(), t = l.cast(t, {\n                stripUnknown: !0,\n                context: c\n              }), i.label = 3;\n\n            case 3:\n              return A({}), f(t), [3, 5];\n\n            case 4:\n              return r = i.sent(), n = {}, r.inner.forEach(function (e) {\n                n[e.path] = e.message;\n              }), A(n), [3, 5];\n\n            case 5:\n              return [2];\n          }\n        });\n      }, new ((n = void 0) || (n = Promise))(function (e, o) {\n        function a(e) {\n          try {\n            u(i.next(e));\n          } catch (e) {\n            o(e);\n          }\n        }\n\n        function l(e) {\n          try {\n            u(i.throw(e));\n          } catch (e) {\n            o(e);\n          }\n        }\n\n        function u(t) {\n          t.done ? e(t.value) : new n(function (e) {\n            e(t.value);\n          }).then(a, l);\n        }\n\n        u((i = i.apply(t, r || [])).next());\n      });\n      var t, r, n, i;\n    }\n  }), a));\n}\n\nfunction k(t) {\n  var n = t.path,\n      i = t.children,\n      o = r(d),\n      a = o.scopePath,\n      l = b(o, [\"scopePath\"]);\n  return e.createElement(d.Provider, {\n    value: m({}, l, {\n      scopePath: a.concat(a ? \".\" + n : n)\n    })\n  }, i);\n}\n\nfunction O(t) {\n  var r = t.name,\n      n = t.label,\n      i = b(t, [\"name\", \"label\"]),\n      o = v(r),\n      a = o.fieldName,\n      l = o.registerField,\n      u = o.defaultValue,\n      c = o.error;\n  return e.createElement(e.Fragment, null, n && e.createElement(\"label\", {\n    htmlFor: a\n  }, n), e.createElement(\"input\", m({}, i, {\n    ref: function (e) {\n      l({\n        name: a,\n        ref: e,\n        path: \"value\"\n      });\n    },\n    id: a,\n    name: a,\n    defaultValue: u\n  })), c && e.createElement(\"span\", null, c));\n}\n\nfunction w(t) {\n  var r = t.name,\n      n = t.label,\n      i = b(t, [\"name\", \"label\"]),\n      o = v(r),\n      a = o.fieldName,\n      l = o.registerField,\n      u = o.defaultValue,\n      c = o.error;\n  return e.createElement(e.Fragment, null, n && e.createElement(\"label\", {\n    htmlFor: a\n  }, n), e.createElement(\"textarea\", m({}, i, {\n    ref: function (e) {\n      l({\n        name: a,\n        ref: e,\n        path: \"value\"\n      });\n    },\n    id: a,\n    name: a,\n    defaultValue: u\n  })), c && e.createElement(\"span\", null, c));\n}\n\nfunction E(t) {\n  var r = t.name,\n      n = t.label,\n      o = t.options,\n      a = t.multiple,\n      l = b(t, [\"name\", \"label\", \"options\", \"multiple\"]),\n      u = v(r),\n      c = u.fieldName,\n      s = u.registerField,\n      f = u.defaultValue,\n      p = u.error,\n      h = i(),\n      y = h[0],\n      d = h[1];\n\n  function g() {\n    return y;\n  }\n\n  return e.createElement(e.Fragment, null, n && e.createElement(\"label\", {\n    htmlFor: c\n  }, n), e.createElement(\"select\", m({}, l, {\n    id: c,\n    name: c,\n    defaultValue: f,\n    onChange: function (e) {\n      if (a) {\n        var t = Array.from(e.target.options).filter(function (e) {\n          return e.selected;\n        }).map(function (e) {\n          return e.value;\n        });\n        d(t);\n      } else d(e.target.value);\n    },\n    multiple: a,\n    ref: function () {\n      s({\n        name: c,\n        ref: g\n      });\n    }\n  }), !a && e.createElement(\"option\", {\n    value: \"\"\n  }, \"Selecione...\"), o.map(function (t) {\n    var r = t.id,\n        n = t.title;\n    return e.createElement(\"option\", {\n      key: r,\n      value: r\n    }, n);\n  })), p && e.createElement(\"span\", null, p));\n}\n\nexport { A as Form, O as Input, k as Scope, E as Select, w as Textarea, v as useField };","map":null,"metadata":{},"sourceType":"module"}