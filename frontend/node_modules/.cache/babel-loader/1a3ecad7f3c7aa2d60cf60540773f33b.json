{"ast":null,"code":"import _slicedToArray from \"/media/fabiano/ec991e3e-83fb-4e35-a728-0dab4543d75d/RocketSeat/livecrud/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/media/fabiano/ec991e3e-83fb-4e35-a728-0dab4543d75d/RocketSeat/livecrud/frontend/src/pages/UserForm/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Form, Input, Scope } from 'unform';\nimport api from '../../services/api';\nexport default function UserForm({\n  history,\n  match\n}) {\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  async function handleSubmit(data) {\n    await api.postOrPut('/users', match.params.id, data);\n    history.push('/users');\n  }\n\n  useEffect(() => {\n    async function loadData() {\n      const id = match.params.id;\n      const response = await api.get(\"/users/\".concat(id));\n      setData(response.data);\n    } // só é executado se o match.params.id existir, \n    // ou seja na criação não irá executar, apenas edição\n\n\n    if (match.params.id) {\n      loadData();\n    }\n  }, [match.params.id]);\n  return React.createElement(Form, {\n    initialData: data,\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(Input, {\n    name: \"name\",\n    label: \"Nome\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }), React.createElement(Input, {\n    name: \"email\",\n    label: \"E-mail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }), React.createElement(Scope, {\n    path: \"address\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(Input, {\n    name: \"street\",\n    label: \"Rua\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(Input, {\n    name: \"number\",\n    label: \"n\\xFAmero\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Enviar\"));\n}","map":{"version":3,"sources":["/media/fabiano/ec991e3e-83fb-4e35-a728-0dab4543d75d/RocketSeat/livecrud/frontend/src/pages/UserForm/index.js"],"names":["React","useState","useEffect","Form","Input","Scope","api","UserForm","history","match","data","setData","handleSubmit","postOrPut","params","id","push","loadData","response","get"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,KAAtB,QAAmC,QAAnC;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AAEA,eAAe,SAASC,QAAT,CAAkB;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAlB,EAAsC;AAAA,oBACzBR,QAAQ,CAAC,EAAD,CADiB;AAAA;AAAA,QAC1CS,IAD0C;AAAA,QACpCC,OADoC;;AAGjD,iBAAeC,YAAf,CAA4BF,IAA5B,EAAkC;AAE9B,UAAMJ,GAAG,CAACO,SAAJ,CAAc,QAAd,EAAwBJ,KAAK,CAACK,MAAN,CAAaC,EAArC,EAAyCL,IAAzC,CAAN;AAEAF,IAAAA,OAAO,CAACQ,IAAR,CAAa,QAAb;AACH;;AAGDd,EAAAA,SAAS,CAAE,MAAM;AACb,mBAAee,QAAf,GAA0B;AAAA,YACdF,EADc,GACPN,KAAK,CAACK,MADC,CACdC,EADc;AAEtB,YAAMG,QAAQ,GAAG,MAAMZ,GAAG,CAACa,GAAJ,kBAAkBJ,EAAlB,EAAvB;AAEAJ,MAAAA,OAAO,CAACO,QAAQ,CAACR,IAAV,CAAP;AACH,KANY,CAOb;AACA;;;AACA,QAAID,KAAK,CAACK,MAAN,CAAaC,EAAjB,EAAqB;AACjBE,MAAAA,QAAQ;AACX;AACJ,GAZQ,EAYN,CAACR,KAAK,CAACK,MAAN,CAAaC,EAAd,CAZM,CAAT;AAcA,SACI,oBAAC,IAAD;AAAM,IAAA,WAAW,EAAEL,IAAnB;AAAyB,IAAA,QAAQ,EAAEE,YAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,KAAK,EAAC,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,KAAK,EAAC,QAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAII,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,WAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAJJ,EASI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATJ,CADJ;AAaH","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Form, Input, Scope } from 'unform'\nimport api from '../../services/api'\n\nexport default function UserForm({ history, match }) {\n    const [data, setData] = useState({})\n\n    async function handleSubmit(data) {\n\n        await api.postOrPut('/users', match.params.id, data)\n\n        history.push('/users')\n    }\n\n\n    useEffect( () => {\n        async function loadData() {\n            const { id } = match.params\n            const response = await api.get(`/users/${id}`)\n\n            setData(response.data)\n        }\n        // só é executado se o match.params.id existir, \n        // ou seja na criação não irá executar, apenas edição\n        if (match.params.id) {\n            loadData()\n        }\n    }, [match.params.id])\n\n    return (\n        <Form initialData={data} onSubmit={handleSubmit}>\n            <Input name=\"name\" label=\"Nome\" />\n            <Input name=\"email\" label=\"E-mail\" />\n            \n            <Scope path=\"address\">\n                <Input name=\"street\" label=\"Rua\" />\n                <Input name=\"number\" label=\"número\" />\n            </Scope>\n\n            <button type=\"submit\">Enviar</button>\n        </Form>\n    )\n}"]},"metadata":{},"sourceType":"module"}